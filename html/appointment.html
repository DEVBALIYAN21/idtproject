<!DOCTYPE html>
<html>
<head>
    <title>Appointment Booking</title>
    <style type="text/css">
        *{
            margin: 0;
        }
       h1{
        
        height: 5vh;
        display: inline-flex;
        background: orange;
        padding: 40px;
        border-radius: 80px;
        
        text-align: top ;
       }
        body
        {
            background-image:url('bg.jpg');
            height: 100vh;
            width: 97%;
            background-repeat: no-repeat;
            background-attachment: fixed;
            background-size: cover;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        form
        {
            width: 310px;
            height: auto;
            padding: 40px;
            border-radius: 20px;
            background: #ddd;
        }
    </style>
    <script>
        function handleDiseaseOptionChange() {
            var diseaseSelect = document.getElementById("disease_option");
            var otherDiseaseInput = document.getElementById("other_disease");
            
            if (diseaseSelect.value === "other") {
                otherDiseaseInput.style.display = "block";
                otherDiseaseInput.required = true;
            } else {
                otherDiseaseInput.style.display = "none";
                otherDiseaseInput.required = false;
            }
        }
    </script>
</head>
<body>
    <div>
    <h1>Book an Appointment</h1>
    
    <form method="post" name="test" id="test">
        <label for="patient_name">Patient Name:</label>
        <input type="text" id="patient_name" name="patient_name" required><br><br>
        
        <label for="patient_age">Patient Age:</label>
        <input type="number" id="patient_age" name="patient_age" required><br><br>
        
        <label for="patient_weight">Patient Weight (kg):</label>
        <input type="number" id="patient_weight" name="patient_weight" step="0.1"><br><br>
          <label for="mobile_number">Mobile Number:</label>
            <input type="tel" id="mobile_number" name="mobile_number" required pattern="[0-9]{10}"><br><br>
            
        
        <label for="appointment_date">Preferred Date:</label>
        <input type="date" id="appointment_date" name="appointment_date" required><br><br>
        
        <label for="disease_option">Select Disease:</label>
        <select id="disease_option" name="disease_option" onchange="handleDiseaseOptionChange()">
            <option value="flu">Flu</option>
            <option value="cold">Cold</option>
            <option value="fever">Fever</option>
            <option value="allergies">Allergies</option>
            <option value="other">Other</option>
        </select><br><br>
        
        <div id="other_disease" style="display: none;">
            <label for="custom_disease">Enter Other Disease:</label>
            <input type="text" id="custom_disease" name="custom_disease"><br><br>
        </div>
        
        <label for="case_type">Select Case Type:</label>
        <select id="case_type" name="case_type">
            <option value="emergency">Emergency Case</option>
            <option value="regular">Regular Checkup</option>
            <option value="normal">Normal Case</option>
        </select><br><br>
        
        <input type="submit" value="Book Appointment" name="submit">
    </form>
    </div>
    <script>
            const scriptURL = 'https://script.google.com/macros/s/AKfycbxsQ1q_GTaam9tGyQHpctQCVJ32ZnKscaM5vsBzKoAUoUnvywQN7Ewn31w48d9wfF5P/exec'
            const form = document.forms['test']
          
            form.addEventListener('submit', e => {
              e.preventDefault()
              fetch(scriptURL, { method: 'POST', body: new FormData(form)})
                .then(response => alert("Thank you! your form is submitted successfully." ))
                .then(() => {  window.location.reload(); })
                .catch(error => console.error('Error!', error.message))
            })
          </script>
</body>
</html>